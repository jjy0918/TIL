# 8. 스프링이란 무엇인가?

## 8.2 스프링의 목적

### 8.2.1 엔터프라이즈 개발의 복잡합

- 자바 엔터프라이즈(JavaEE) 는 시스템 개발이 너무 복잡해져서 실패된 프로젝트로 취급받는다.
- 자바 엔터프라이즈가 복잡한 근본적인 이유 두 가지가 존재한다.
  - 1. 기술적인 제약조건과 요구사항이 늘어간다.
    - 엔터프라이즈 시스템은 자원을 효율적으로 사용함과 동시에 뛰어난 성능과 안정성이 필요하다.
    - 즉, 순수한 비즈니스 로직 외에 고려할 사항이 많아진다는 것이다.
    - 애플리케이션 개발 단계에서 부담이 커지게 된다.
  - 2. 엔터프라이즈 애플리케이션이 구현해야 할 핵심기능인 비즈니스 로직의 복잡함이 증가한다.
    - 엔터프라이즈 시스템을 통해 기업의 다양한 핵심 업무를 처리하게 되면서 의존도가 높아졌다.
    - 다양한 업무를 처리해야 하기 때문에 애플리케이션 개발 역시 복잡해지고 힘들어진다.
  - 즉, 엔터프라이즈 개발은 많은 것을 처리해야 하는 기술적인 문제와 복잡한 비즈니스 로직이 결합되어 복잡함이 몇 배 가중된다.

### 8.2.2 복잡함을 해결하려는 도전

- 엔터프라이즈 시스템 개발에서 기술적인 복잡함은 해결할 수 없다.
  - 기술적인 복잡함을 해결하기 위해 보안을 취약하게 방치하거나 확장이 불가능하게 만드는 것은 안되기 때문이다.
- 근본적으로 복잡함을 해결하기 위해 접근하기 보다는 복잡함을 효과적으로 상대하기 위한 전략과 기법이 필요하다.
- 기술적인 복잡함과 비즈니스적으로 복잡함을 한 번에 처리하려 하다보니 더욱 복잡해지기 때문에 두 복잡함을 분리하는 것이 우선이다.
- 이를 위해 처음 등장한 것이 `EJB` 와 `스프링` 이다.

#### EJB

- EJB는 기술적인 복잡함을 신경쓰지 않고 비즈니스 로직에만 신경쓸 수 있도록 하는 것이 목표다.
- EJB는 기술적인 코드를 어느정도 제거하는 것은 성공했지만, 오히려 환경과 스펙에 종속되도록 코드가 작성되기 떄문에 더 큰 부담이 되었다.
- 즉, EJB를 사용함에 따라 코드가 EJB에만 종속적으로 동작하게 되어 객체지향의 특성이 사라지는 등의 문제가 발생되어 `실패`한 해결책이 되었다.

#### 스프링

- 스프링은 EJB의 실패를 교훈으로 출발했다.
- EJB 처럼 기술적인 복잡함을 제거하는 것을 목표로 했지만, 개발자 코드에서는 환경에 종속적이지 않도록 만들었다.
  - EJB처럼 어떤 기술을 사용했을 때 그 기술과 관련된 코드나 규약이 코드에 등장하는 것을 `침투적인(invasive) 기술` 이라고 한다.
  - 즉, 스프링은 `비침투적인 방식`을 제공하려 하는 것이다.
- 스프링은 기술적인 복잡함과 비즈니스 로직을 다루는 코드를 깔끔하게 분리하였다.
  - 근본적인 복잡함은 해결되지 않았지만, 복잡함들을 분리했기 때문에 불필요한 복잡함은 제거되었다.

### 8.2.3 복잡함을 상대하는 스프링의 전략

#### 기술적 복잡함을 상대하는 전략

- 스프링에서는 엔터프라이즈 시스템의 복잡함이 발생하는 원인을 두 가지로 분류한다.

1. 기술에 대해 접근 방식이 일관성이 없고, 특정 환경에 종속적이다.
    - 서버나 환경, 적용되는 조건이 변경됨에 따라 기술이 달라지고 코드가 바뀌는건 문제가 된다.
    - 일관성 없는 기술과 서버 환경의 변화에 대해 스프링은 서비스 추상화를 통해 해결했다.
    - 서비스 추상화를 통해 구현 부분과 사용 부분을 분리하고 인터페이스를 통해 접근하도록 한다.
2. 기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여서 등장한다.
    - 트랜잭션작업이나 보안 적용 등 비즈니스 로직과 성격이 다른 작업들이 같은 계층에 등장하게 된다.
    - 이러한 복잡함을 해결하기 위해 스프링은 AOP를 사용한다.

#### 비즈니스와 애플리케이션 로직의 복잡함을 상대하는 전략

- 비즈니스 로직은 가장 중요하게 다뤄져야 하며, 가장 많인 신경써야 한다.
- 이러한 비즈니스로직에 환경에 종속적인 기술과 침투적인 기법이 추가됨에 따라 더욱 복잡해지는 결과를 낳았다.
- 스프링에서는 이러한 환경에 종속적인 부분과 비즈니스 로직을 분리함에 따라 효과적으로 처리할 수 있도록 도와준다.
  - 자바의 객체지향적인 특징을 잘 사용하면, 유연한 설계가 가능하고 재사용성이 높아진다.
- 스프링은 비즈니스 로직을 효과적으로 분리하여 유지보수 및 지속적인 발전이 가능하도록 도와준다.

#### 핵심 도구: 객체지향과 DI

- 스프링에서 기술과 비즈니스 로직의 복잡함을 해결하기 위해 객체지향을 사용한다.
  - EJB에서는 객체지향의 장점을 취하지 못했다.
- 스프링에서는 객체지향 설계를 위하 단순한 오브젝트로 개발할 수 있고, DI 와 같은 기술을 편리하게 적용하도록 도와준다.
- DI는 자연스럽게 객체지향적인 설계과 개발로 이끌어줄 수 있다.
  - DI를 의식하다 보면 변경해야 될 부분, 인터페이스 분리 오브젝트 분리 등을 고민하면서 좋은 객체지향 설계가 가능하게 된다.
- 스프링이 기술적인 코드와 비즈니스 로직을 분리하여 순수 비즈니스 로직만 담고 있는 코드를 작성할 수 있고, 이 코드는 객체지향 설계가 가능해진다.
- 비즈니스 로직은 오직 객체지향적으로 작성함에 따라 복잡하고 자주 변하는 로직이라 하더라도 손쉽게 대응이 가능해진다.

