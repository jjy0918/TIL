# 09. 값 타입

## 9.2 임베디드 타입(복합 값 타입)

- JPA에서는 임베디드 타입을 통해 새로운 값 타입을 정의할 수 있다.
- 임베디드 타입을 통해 더욱 응집도 있고 의미있게 만들 수 있다.
- `@Embeddable`은 값 타입 정의하는 곳에 표시하면 된다.
- `@Embedded`는 값 타입을 사용하는 곳에 표싷면 된다.
- 하나의 엔티티에 같은 임베디드 타입을 사용해야 하는 경우 `@AttributeOverrides`를 설정하면 된다.
- 임베디드 타입이 null이면 매핑한 컬럼 값 모두 null이 된다.

## 9.3 값 타입과 불변 객체

- 값 타입 공유 참조하는 경우 예상과 다른 변화가 생길 수 있기 때문에 여러 엔티티에서 공유하면 안된다.
- 같은 값을 가진다면, 참조가 아닌 복사를 해야 한다.
- 될 수 있으면 값 타입은 불변 객체로 설계해야 한다.

## 9.4 값 타입의 비교

- 값 타입은 비교 시 equals, hashCode를 재정의 하여 사용해야 한다.

## 9.5 값 타입 컬렉션

- 값 타입을 하나 이상 저장하려면 컬렉션에 보관하고 `@ElementCollection`, `@CollectionTable`을 사용하면 된다.