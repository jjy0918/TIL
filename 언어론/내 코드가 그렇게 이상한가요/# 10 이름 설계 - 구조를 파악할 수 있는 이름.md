# 10 이름 설계 - 구조를 파악할 수 있는 이름

## 10.1 악마를 불러들이는 이름

- 적절한 이름 없이 단순하게 이름을 붙이게 되면, 강한 결합을 가지게 될 수 있다.

### 10.1.1 관심사 분리

- 강한 결합을 해소하고, 결합이 느슨하고 응집도가 높은 구조로 만들기 위해서는 `관심사 분리(seperation of concerns)`를 해야 한다.
- 관심사 분리란 관심사(유스 케이스, 목적, 역할)에 따라서 분리하는 것이다.
- 단순 상품 클래스가 아니라, 각 관심사에 맞는 상품 클래스를 만드는 것이다.

### 10.1.2 관심사에 맞는 이름 붙이기

- 관심사에 맞는 이름을 붙여서 분할한 후에는 관심사에 맞는 로직을 `캡슐화` 하면 된다.
- 관심사에 따라 분리하여 결합도를 낮추고 응집도를 높일 수 있다.
  - 주문과 관련된 사양 변경이 발생했을 때에는 주문과 관련된 클래스만 확인하면 된다.

### 10.1.3 포괄적이고 의미가 불분명한 이름

- 이름이 너무 포괄적이고 목적이 불분명하면 규모가 커지고 유지보수가 어려워진다.
- 이러한 객체를 목적 불명 객체라고 한다.

## 10.2 이름 설계하기 - 목적 중심 이름 설계

- 프로그래밍에서 이름은 가독성을 높일뿐 아니라 결합이 느슨하고 응집도가 높은 구조를 만드는 데 굉장히 큰 역할을 한다.

### 최대한 구체적이고, 의미 범위가 좁고, 특화된 이름 선택하기

- 특정한 목적을 달성하는 데 특화된 의미 범위가 좁은 이름을 클래스에 붙인다.
- 즉, 비즈니스 목적에 맞는 이름을 지어야 한다.
- 비즈니스 목적에 맞는 이름을 붙이면 여러 이점이 존재한다.
  - 이름과 관계없는 로직을 배제하기 쉬워짐
  - 클래스가 작아짐
  - 관계된 클래스 개수가 적으므로, 결합도가 낮아진다.
  - 관계된 클래스 개수가 적으므로, 사양 변경 시 생각해야 하는 영향 범위가 좁아진다.
  - 목적에 특화된 이름을 갖고 있으므로, 어떤 부분을 변경해야 할 때 쉽게 찾을 수 있다.
  - 개발 생산성이 향상된다.

### 존재가 아니라 목적을 기반으로 하는 이름 생각하기

- 단순히 존재를 나타내는 이름은 여러 곳에서 사용되기 쉽기 때문에 목적이 불분명해진다.
- 구체적인 목적을 알 수 있도록 목적 기반으로 이름을 짓는 것이 좋다.
  - 주소 대신 발송지, 배송지 업무지 등
  - 사용자 대신 계정, 개인 프로필, 직무 등

### 어떤 비즈니스 목적이 있는지 분석하기

- 어떤 비즈니스를 하는지 모두 파악해야 하기 때문에 소프트웨어가 추구하는 목적과 내용을 분석해야 한다.

### 소래 내어 이야기해 보기

- 문제가 발생했을 떄 이를 누군가에게 설명해본다면 스스로 원인을 깨닫고 해결할 수 있다.
  - 고무 오리 디버깅
- 소리를 내는 행위 자체로 잘못된 부분을 깨닫게 된다.

### 이용 약관 읽어보기

### 다른 이름으로 대체할 수 없는지 검토하기

- 이름의 범위가 생각보다 넓을 수 있고, 여러 의미가 내포된 이름일 수 있기 때문에 검토하는 것이 좋다.

### 결합이 느슨하고 응집도가 높은 구조인지 검토하기

- 목적에 특화된 이름을 선택하면, 목적 이외의 로직을 배제하기 쉬워진다.
- 목적 이외의 로직이 섞인다면, 이름을 잘못 붙인 것이 아닌지 검토해보자.
- 관련된 클래스의 개수가 적으면 적을수록 영향 범위가 적다는 것이기 때문에 개수를 확인해 보는 것도 좋다.

## 10.3 이름 설계 시 주의 사항

- 이름 설계 시 주의해야 하는 부분이 여러 가지 있다.

### 10.3.1 이름에 관심 갖기

- 목적 중심 이름 설계는 이름과 로직을 대응시키는 것이기 때문에 이름에 관심을 갖지 않으면 모든 것이 무너진다.
- 이름과 로직이 대응된다는 전제, 이름이 프로그램 구조를 크게 좌우한다는 사실을 팀원들과 이야기해야 한다.

### 10.3.2 사양 변경 시 의미 범위 변경 경계하기

- 개발 중 사양 변경에 의해 의미하는 바가 점점 변화되는 경우가 존재하기 때문에 이름 설계는 중간중간 다시 검토해야 한다.
- 여러 의미가 섞이면 이름이 의미하는 바를 다시 검토하고, 이름을 변경하거나 클래스를 나누어야 한다.

### 10.3.3 대화에는 등장하지만 코드에 등장하지 않는 이름 주의하기

- 대화에 자주 등장하는 중요 개념이 소스 코드에 이름조차 붙어 있지 않는 경우가 꽤 많다.
- 이름이 없는 로직이라는 것은 소스 코드 이곳 저곳에서 무분별하게 작성되어 있다는 것이고 메소드 클래스로 설계되어 있지 않는 것이다.
- 해당 로직들이 변경될 경우 관련 로직이 어디까지 인지 판단하기 힘들다.
- 대화에 자주 등장하는 로직은 이름을 신경 써서 붙여야 하며, 관련된 메서드와 클래스를 설계하는 것이 좋다.

### 10.3.4 수식어를 붙여서 구별해야 하는 경우는 클래스로 만들어 보기

- 의미가 다르거나 조건에 따라 달라지는 대상을 같은 이름으로 표현하면 차이를 구별하기 어렵다.
- 차이를 구분하기 어려운 코드의 경우에는 단순하게 수식어를 붙여서 동료에게 설명하는 경우가 많다.
  - ex) maxHitPoint 의 경우 원래 캐릭터의 HP인 경우와 장비 착용 후 HP를 의미하는지 혼동될 수 있다.
- 로직이 복잡해지거나, 히스토리를 모르는 팀원이라면 문제가 발생할 가능성이 높아진다.
- 이러한 상황을 막기 위해서는 차이를 확실하게 알 수 있는 이름을 붙여야 한다.
  - EX) originalMaxHitPoint
- 수식어를 붙이면서까지 차이를 내고 싶은 대상은 각각 클래스로 설계하는 것이 가장 좋다.
- 의미가 다른 개념들을 서로 다른 클래스로 설계해서 구조화하면, 개념 사이의 관계를 이해하기 쉬워진다.

## 10.4 의미를 알 수 없는 이름

- 의미를 알 수 없는 이름을 사용하면, 목적이 무엇인지 알기 힘들고, 수정할 때마다 코드를 해석해야 한다.

### 10.4.1 기술 중심 명명

- 프로그래머는 이름 지을 떄 프로그래밍 관련 용어나 컴퓨터 관련된 용어에서 유래하는 경우가 많다.
- 이렇게 기술 기반으로 이름을 짓는 방법을 `기술 중심 명명`이라 한다.
- 기술 중심 이름은 의도를 파악하기 힘들다.

### 10.4.2 로직 구조를 나타내는 이름

- 메서드의 이름을 로직의 구조를 그대로 드러내는 경우, 무엇을 의도하는지 이름만 보고 알기 힘들다.
- 구현하려는 대상이 무엇을 하려는지 제대로 이해하고 있찌 못할 때 로직의 구조를 이름으로 짓기 쉽다.
- 로직의 구조가 아니라 의도와 목적을 이해하기 쉽도록 이름을 붙여야 한다.

### 10.4.3 놀람 최소화 원칙

- `놀람 최소화 원칙`이란 사용자가 예상하지 못한 놀라움을 최소화하도록 설계해야 한다는 접근 방법이다.
- 놀람 최소화 원칙을 지키기 위해서는 로직과 이름을 잘 대응시켜야 한다.
- 로직이 변경될 때 놀람 최소화 원칙을 위반하기 쉽기 떄문에 항상 주의해야 한다.
- 로직과 이름 사이에 괴리가 있다면 이름을 수정하거나 메서드와 클래스를 의도에 맞게 따로 만들어야 한다.

## 10.5 구조에 악영향을 미치는 이름

### 10.5.1 데이터 클래스처럼 보이는 이름

- `~Info`, `~Data` 와 같은 이름의 클래스는 읽는 사람에게 데이터만 갖는 클래스 라는 인식을 준다.
  - 이러한 클래스는 응집도가 낮은 구조가 되기 때문에 이름을 이런 식으로 짓는 것은 좋지 않다.
- `DTO(Data Transfer Object)`
  - 예외적으로 데이터 클래스를 사용하는 경우가 있다.
  - CQRS 아키텍처 패턴에서는 단순히 값을 추출해서 출력하기 때문에 데이터 출력만을 위한 객체를 가질 수 있다.
  - DTO는 단순 데이터 전송 용도로 사용되도록 만들어졌기 때문에 값 변경 없이, 참조 용도로만 만들어진다.
- 데이터 클래스를 무조건 만들지 말라는 것이 아니라, 의도를 이해하고 상황에 맞게 사용하라는 것이다.

### 10.5.2 클래스를 거대하게 만드는 이름

- `Manager` 등의 이름은 클래스를 거대하게 만든다.
  - Manager 외에도 Processor, Controller 등이 있다.
- 이름만으로 여러 책임을 가질 수 있는 위험이 있기 때문에 이러한 이름은 쓰지 않는 것이 좋다.

### 10.5.3 상황에 따라 의미가 달라질 수 있는 이름

- 상황에 따라 의미가 달라질 수 있는 이름은 사용하지 않는 것이 좋다.

### 10.5.4 일련번호 명명

- 클래스와 메서드 이름에 번호를 붙여 만드는 것을 `일련번호 명명`이라 부른다.
- 일련번호 명명은 목적과 의도를 알기 힘들다는 점에서 기술 중심 명명과 비슷하지만, 구조 개선이 훨씬 힘들기 때문에 더 악질적이다.

## 10.6 이름을 봤을 때, 위치가 부자연스러운 클래스

### 10.6.1 동사 + 목적어 형태의 메서드 이름 주의하기

- 관심사와 전혀 관계없는 메서드가 클래스에 추가되는 경우가 많다.
- 관심사가 다른 메서드는 `동사 + 목적어` 형태가 되는 경향이 있다.

### 10.6.2 가능하다면 메서드의 이름은 동사 하나로 구성되게 하기

- 관심사가 다른 메서드가 섞이지 못하게 막으려면 되도록 메서드의 이름이 동사 하나로 구성되도록 설계하는 것이 좋다.

### 10.6.3 부적절한 위치에 있는 boolean 메서드

- boolean 메서드 생성 시 `클래스 is 상태` 로 바꾸었을 때 위화감이 없으면 좋은 것이다.

## 10.7 이름 축약

- 이름 생략할 떄는 주의해야 한다.
- 의도를 알 수 없는 축약은 주의해야 한다.
- 기본적으로 이름은 축약하지 말자.
- 이름을 축약했을 때 의미가 사라지지 않는 경우, 헷갈릴 여지가 없는 경우, 관습적으로 축약하는 경우에는 축약해도 좋다.