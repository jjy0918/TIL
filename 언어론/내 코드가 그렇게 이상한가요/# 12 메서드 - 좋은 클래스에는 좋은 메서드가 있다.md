# 12 메서드 - 좋은 클래스에는 좋은 메서드가 있다

## 12.1 반드시 현재 클래스의 인스턴스 변수 사용하기

- 인스턴스 변수를 안전하게 조작하도록 메서드를 설계하면, 클래스 내부가 정상적인 상태인지 보장할 수 있다.
- 메서드는 반드시 현재 클래스의 인스턴스 변수를 사용하도록 설계해야 한다.
- 생성자도 인스턴스를 생성하기 위한 메서드이기 때문에 생성자에 가드를 만들어 두는 것이 좋다.
- 인스턴스 변수를 변경하는 메서드는 좋지 않다.
  - 인스턴스 변수를 변경하고 싶다면, 변경된 내용을 다루는 새로운 인스턴스를 생성한 후 리턴하는 방식으로 하라

## 12.2 불변을 활용해서 예상할 수 있는 메서드 만들기

- 가변 인스턴스 변수 등을 변경하는 메서드는 의도하지 않게 다른 부분에 영향을 줄 수 있다.
- 불변을 활용하여 에상치 못한 동작 자체를 막을 수 있게 설계하라.

## 12.3 묻지 말고 명령하라.

- 다른 클래스를 확인하고 조작하는 메서드는 응집도가 낮은 구조다.
  - getter/setter는 다른 클래스를 확인하고 조작하는 메서드 구조가 되기 쉽다.
- 메서드를 호출하는 측에서 복잡한 처리를 하는 것이 아니라, 메서드를 호출하여 로직을 처리하도록 명령하라.
- 단순히 getter/setter를 만든다고 해서 캡슐화가 되었다고 할 수 없다.
  - 캡슐화는 데이터 조직하는 로직을 하나의 클래스로 만들고, 필요한 로직만 외부에 공개하는 것이다.

## 12.4 커맨드/쿼리 분리

- 메서드는 커맨드(상태 변경) 또는 쿼리(상태 리턴) 중 하나만 설계해야 한다.
  - 이러한 패턴을 `커맨드 쿼리 분리` 패턴이라 한다.
- 상황에 따라 커맨드와 쿼리가 모두 필요한 메서드를 설계할 수는 있지만, 최대한 피하라.

## 12.5 매개변수

- 매개변수는 불변으로 만들어라.
  - 매개변수를 변경하면 값의 의미가 바뀌어서 어떤 의미를 나타내는지 유추하기가 어려워진다.
- 플러그 매개변수는 사용하지 마라.
  - 플러그 매개변수를 받는 메서드는 코드를 읽는 사람이 메서드가 무슨 일을 하는지 알기 어렵게 만든다.
- null 전달하지 않기
  - 매개변수로 null을 전달하게 만들면 로직이 복잡해진다.
  - null에 의미를 부여하지 마라.
- 출력 매개변수 사용하지 않기
  - 출력 매개변수를 사용하면 응집도가 낮은 구조가 된다.
- 매개변수는 최대한 적게 사용하기
  - 매개변수는 최대한 적게 설계하는 것이 좋다.
  - 매개변수가 많다는 것은 그만큼 여러 가지 기능을 처리한다는 것이다.
  - 매개변수가 많아질 수밖에 없다면 별도의 클래스로 만들어라.

## 12.6 리턴 값

- 자료형을 사용하여 리턴 값의 의도 나타내라
  - 기본 자료형으로는 리턴한 값의 의미를 호출하는 쪽에 전달할 수 없다.
  - 독자적인 자료형을 사용하여 의도를 명확하게 나타내는 것이 좋다.
- null 리턴하지 않기
- 오류는 리턴 값으로 리턴하지 말고 예외 발생시키기
  - 오류에 대한 리턴 값을 지정할 경우, 사용하는 측에서 이를 알고 있어야 한다.
  - 오류로 특정 값을 지정하면 중의적으로 쓰일 수 있다.
  - 오류 처리를 위한 분기가 이곳저곳 늘어난다.