# 13장 컴포넌트 응집도

## REP: 재사용/릴리스 등가 원칙

- 재사용 단위는 릴리스 단위와 같다.
- 릴리스 단위를 통해 추적 관리가 되지 않거나 릴리스 번호가 부여되지 않는다면, 컴포넌트 재사용은 힘들어진다.
- 개발자들은 릴리스 정보를 통해 새 릴리스로 통합할 지, 기존 버전을 계속 쓸 지 등을 결정한다.
- 이러한 방식은 소프트웨어 설계와 아키텍처 관점에서 보면 단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 한다는 것을 뜻한다.
  - 선택된 모듈은 서로 공유하는 중요한 테마나 목적이 있어야 한다.
- 하나의 컴포넌트로 묶은 모듈과 클래스는 반드시 함께 릴리스 할 수 있어야 하며, 버전 번호가 같아야 한다.
  - 이러한 원칙은 이치에 맞는다고 표현할 수 있다.

## CCP: 공통 폐쇄 원칙

- 동일한 이유로 동일한 시점에 변경되는 클래스는 같은 컴포넌트로 묶고, 서로 다른 시점에 다른 이유로 변경되는 클래스는 서로 다른 컴포넌트로 분리해야 한다.
  - 이러한 원칙은 SRP를 컴포넌트 관점에서 다시 쓴 것이다.
- 애플리케이션에서 유지보수성은 재사용성보다 훨씬 중요하기 떄문에 코드가 변경되어야 한다면, 변경이 분산되기 보다는 모두가 변경되는 것이 좋다.
- 즉, CCP는 같은 이유로 변경될 가능성이 있는 클래스는 모두 한곳으로 묶을 것을 권한다.

## CRP: 공통 재사용 원칙

- 컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.
- CRP는 같이 재사용되는 경향이 있는 클래스와 모듈들은 같은 컴포넌트에 포함해야 한다는 뜻이다.
  - 재사용 가능한 클래스는 재사용 모듈의 일부로써 해달 모듈의 다른 클래스와 상호작용하는 경우가 많다.
- 어떤 클래스가 다른 클래스를 사용한다면, 서로 의존관계가 생기게 된다. 의존관계가 생기게 되면 배포, 검증 등 여러 과정이 엮이게 된다.
- 의존하는 컴포넌트가 있다면, 모든 해당 컴포넌트의 모든 클래스에 대해 의존함을 확실히 인지해야 한다.

## 컴포넌트 응집도에 대한 균형 다이어그램

- REP와 CCP는 포함 원칙으로, 컴포넌트를 더욱 크게 만든다.
- CRP는 배제 원칙으로, 컴포넌트를 더욱 작게 만든다.
- 뛰어난 아키텍트라면, 이러한 원칙들이 균형을 이루는 방법을 찾아야 한다.