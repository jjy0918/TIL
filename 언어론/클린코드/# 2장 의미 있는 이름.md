# 2장 의미 있는 이름

- 소프트웨어에서 이름은 어디나 쓰인다.
- 이름을 잘 지으면 여러모로 편리하다.

## 의도를 분명히 밝혀라

- 의도가 분명하게 이름을 지어야 한다.
- 좋은 이름(의도가 분명히 드러난 이름)을 짓는 것은 시간이 오래 걸리지만, 좋은 이름으로 절약하는 시간이 더 많다.
- 변수, 함수, 클래스 이름은 아래 질문에 모두 답할 수 있어야 한다.
  - 존재 이유
  - 수행 기능
  - 사용 방법
- 이름 자체가 아니라 별도의 주석이 필요하다면, 의도를 분명히 드러내지 못했다는 것이다.
- 코드가 얼마나 단순한가 보다는 코드의 맥락이 명시적으로 드러나지 않는 경우에 읽기 어렵다.
  - 이름을 명확하게 짓지 않으면 단순한 코드도 맥락을 알기 힘들어진다.
  - 즉, 단순히 이름만 고쳐줘도 함수가 하는 일에 대해 이해하기 쉬워질 수 있다.

```java
// 맥락이 드러나지 않은 코드
public List<int[]> getThem() {
    List<int[]> list1 = new ArrayList<int[]>();
    for(int[] x : theList)
        if (x[0] == 4)
            list1.add(x);
    
    return list1;
}

// 맥락이 드러난 코드
public List<Cell> getFlaggedCells() {
    List<Cell> flaggedCells = new ArrayList<Cell>();
    for(Cell cell : gameBoard)
        if (cell.isFlagged())
            flaggedCells.add(cell);

    return flaggedCells;
}
```

## 그릇된 정보를 피하라

- 프로그래머는 코드에 그릇된 단서를 남기면 안 된다.
  - 그릇된 단서는 코드의 의미를 흐린다.
  - 널리 알려진 단어를 다른 의미로 사용할 경우에도 그릇된 단서가 된다.
  - 서로 흡사한 이름을 사용하지 않도록 주의해야 한다.
  - 일관성이 떨어지는 표기법도 그릇된 정보다.
  - 혼동이 될 수 있는 단어도 주의해야 한다.(L, O 등)

## 의미 있게 구분하라.

- 단순히 컴파일러나 인터프리터만 통과하기 위한 코드는 좋지 않다.
- 철자만 살짝 바꾼 경우나 연속적인 숫자를 덧붙인 이름이나 불용어를 추가하는 방식은 적절하지 않다.
  - class와 klass
  - a1, a2, a3 ...
  - Product, ProductInfo, ProductData 등
    - Info나 Data는 a, an, the 와 같이 의미가 불분명한 불용어다.
  - 변수 이름의 variable, 표 이름에 table 등도 불용어다.
    - 중복적인 이름도 불용어다.
- 정리하자면, 읽는 사람이 차이를 알도록 이름을 지어야 한다.

## 발음하기 쉬운 이름을 사용하라.

- 사람들은 단어에 능숙하고, 단어는 발음이 가능하기 때문에 발음하기 쉬운 단어를 선택한다.
- 발음하기 어려운 이름(단어)는 토론하기 어려우며 바보처럼 들리기 쉽다.
- 프로그래밍은 사회 활동이기 때문에 발음하기 쉬운 이름이 중요하다.

## 검색하기 쉬운 이름을 사용하라.

- 문자 하나를 사용하는 이름과 상수는 텍스트 코드에서 쉽게 눈에 띄지 않는다.
  - MAX_CLASS_PER_STUDENT는 찾기 쉽지만, 7이나 e라는 문자는 검색이 어렵다.(너무 많은 결과가 나온다)
- 일반적으로 짧은 이름 보다는 긴 이름이 좋다.
  - 이름 길이는 범위 크기에 비례해야 한다.
- 변수나 상수를 코드 여러 곳에서 사용한다면, 검색하기 쉬운 이름이 바람직하다.

## 인코딩을 피하라

- 인코딩언어까지 익혀야 한다면, 문제 해결에 집중할 때 불필요한 정신적 부담을 준다.
- ex) 헝가리안 표기법, 멤버 변수 접두어
- 요즘 프로그래밍 언어는 많은 타입을 지원하며, 컴파일러가 타입을 강제하기 때문에 별도의 자체 인코딩이 필요 없다.
- 인터페이스나 구현 클래스를 구분하기 위해 인코딩을 할 수는 있다.
  - 둘 중 선택한다면 인터페이스에 I접두사를 붙이는 방식 보다는 구현 클래스에 별도의 Imp 접미사이나 C 접두사를 붙이는 것이 좋다.
  - 기존 레거시 코드들은 인터페이스에 I를 붙이고 있다.


### 인터페이스가 아니라 구현 클래스에 인코딩(별도의 이름) 하는 것을 추천하는 이유

> https://stackoverflow.com/questions/5816951/prefixing-interfaces-with-i

- 인터페이스가 아니라 구현 클래스에 접두사나 접미사를 붙이는 이유는 실제 사용되는 참조 값은 인터페이스이기 때문이다.
- 결국은 사용하는 입장에서 실제 구현 클래스의 이름을 통해 구분하는 것이 아니라, 인터페이스의 형태만 보기 때문에 불필요한 I를 붙이는 것은 좋지 않다.
- 인터페이스는 결국 외부에 노출되는 값인데, 이것이 인터페이스임을 이름을 통해 알릴 필요가 없다.

> https://www.reddit.com/r/csharp/comments/rnq42u/prefix_i_in_interface_implementation/?rdt=54509
> https://learn.microsoft.com/ko-kr/dotnet/standard/design-guidelines/names-of-classes-structs-and-interfaces

- C# 에서는 인터페이스 앞에 `I`를 붙이는 것이 관례이고, 이는 C# 개발사(마이크로 소프트)에서 공식적으로 공인하고 있다.
  - ` DO prefix interface names with the letter I, to indicate that the type is an interface.`
  - 즉, 언어마다 다르다
  - Java에서만 지키면 될 것으로 보인다

## 자신의 기억력을 자랑하지 마라

- 코드를 읽으면서 변수 이름을 자신이 아는 이름으로 변환해야 한다면, 그 변수 이름은 바람직하지 못하다.
  - 이러한 이름은 일반적으로 문제 영역이나 해법 영역에서 사용하지 않는 이름을 선택했기 때문이다.
- 자신의 똑똑함을 과시하기 위해 변환하기 위한 변수 이름을 짓는 것은 멍청한 일이다.

## 클래스 이름

- 클래스 이름과 객체 이름은 명사나 명사구가 적합하다.
- ex) Customer, WikiPage, Account 등
- Manager, Processor, Data, Info 등은 피하라.(뜻이 불분명하다)

## 메서드 이름

- 메서드 이름은 동사나 동사구가 적합하다.
- ex) postPayment, deletePage 등
- 접근자, 변경자, 조건자는 javabean 표준에 따라 값 앞에 get, set, is 를 붙인다.
- 생성자를 중복정의할 때는 정적 펙토리 메서드를 사용한다.
  - 메서드는 인수를 설명하는 이름을 사용한다.

## 기발한 이름은 피하라

- 이름이 너무 기발하면 젖와 유머 감각이 비슷한 사람만, 그리고 농담을 기억하는 동안만, 이름을 기억한다.
- 특정 문화에서만 사용하는 농담은 피하고 의도를 분명하고 솔직하게 표현하라.
- 재미난 이름보다 명료한 이름을 선택하라.

## 한 개념에 한 단어를 사용하라

- 추상적인 개념 하나에 단어 하나를 선택해 이를 고수하라.
  - 똑같은 메서드를 클래스마다 다른 이름으로 부르면 혼란스러워진다.
    - 같은 메서드이지만 이름이 fetct, retrieve, get 등으로 사용되는 경우
- 메서드 이름은 독자적이고 일관적이어야 주석을 뒤져보지 않고도 올바른 메서드를 선택할 수 있다.
  - 독자는 이름이 다르면 당연히 클래스나 타입이 다르다고 판단한다.

## 말장난을 하지 마라

- 한 단어를 두 가지 목적으로 사용하지 마라
- 다른 개념에 같은 단어를 사용한다면 그것은 말장난에 불과하다.
- 같은 맥락이 아닌데 일관성을 고려하여 단어를 선택하면 안된다.
  - 어떠한 값을 추가하는 메서드를 일반적으로 add 라는 이름을 사용하지만, 기존 add 메서드와 맥락이 다르다면 add 를 사용해서는 안 된다.
- 의미 해독을 독자에게 맡기는 것이 아니라 저자가 의도를 밝혀야 한다.

## 해법 영역에서 가져온 이름을 사용하라.

- 코드를 읽는 사람은 모두 프로그래머이기 때문에 전산 용어, 알고리즘 이름 등은 사용해도 괜찮다.
- 모든 이름을 문제 영역(domain)에서 가져오는 것은 좋지 않다.
  - 같은 개념을 다른 이름으로 이해하는 동료는 매번 물어야 한다.

## 문제 영역에서 가져온 이름을 사용하라.

- 적절한 프로그래밍 용어가 없다면 문제 영역에서 이름을 가져올 수도 있다.
  - 문제 영역에 대해서는 전문가에게 물어 파악할 수 있다.
- 우수한 프로그래머와 설계자는 해법 영역과 문제 영역을 구분할 수 있어야 한다.
- 문제 영역 개념과 관련이 깊은 코드라면, 문제 영역에서 이름을 가져와야 한다.

## 의미 있는 맥락을 추가하라.

- 대부분의 이름은 스스로 의미가 불분명하다.
- 대부분의 이름 그 자체로만 구분하는 것이 아니라 클래스, 함수, 이름 공간(namespace)에 넣어 맥락을 부여한다.
- 접두어를 붙이는 것은 최후의 수단으로 사용해야 한다.

## 불필요한 맥락을 없애라.

- 의미가 분명한 경우에 한해 불필요한 맥락은 추가하지 않도록 주의해야 한다.
- accountAddress나 customerAddress는 클래스 이름으로는 적절하지 않다.
- accountAddress나 customerAddress는 Adress 클래스 인스턴스 이름으로는 적절하다.

## 정리

- 좋은 이름을 선택하려면 설명 능력이 뛰어나야 하고 문화적인 배경이 같아야 한다.
- 좋은 이름을 선택하는 능력은 기술, 비즈니스, 관리 문제가 아니라 교육 문제다.
- 사람들이 이름을 바꾸기 꺼려하는 이유 중 하나는 다른 개발자가 반대할까 두려워서이지만, 좋은 이름으로 바꿔주면 반갑고 고마워할 것이다.
- 이름을 암기하는 것이 아니라 문장이나 문단처럼 읽히는 코드 아니면 적어도 표나 자료 구조처럼 읽히는 코드를 짜는데 집중하라.
- 누군가 질책한다고 해서 코드 개선 노력을 중단해서는 안 된다.