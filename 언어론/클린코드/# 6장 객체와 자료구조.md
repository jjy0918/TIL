# 6장 객체와 자료구조

## 자료 추상화

- 단순히 변수를 private로 만들고 조회(get), 수정(set) 메서드만 제공한다고 구현이 외부에 감춰지는 것이 아니다.
- 사용자는 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스이며, 추상화된 자료구조가 된다.
- 자료는 세세하게 공개하기 보다는 추상적인 개념으로 표현하는 편이 좋다.
- 단순히 인터페이스를 사용한다고 추상화 되는 것이 아니라 객체가 포함하는 자료를 표현할 가장 좋은 방법을 고민해야 한다.

## 자료/객체 비대칭

- `객체`는 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 제공한다. 
- `자료 구조`는 자료를 그대로 공개하며 별다른 함수는 제공하지 않는다.
- 객체는 주로 객체지향 프로그래밍에서 사용하며, 기존 코드를 수정하지 않고 새로운 클래스를 추가하기는 쉽지만, 새로운 함수를 추가하기는 어렵다.
- 자료 구조는 주로 절차지향 프로그래밍에서 사용하며, 기존 코드를 수정하지 않고 새로운 클래스를 추가하기는 어렵지만, 새로운 함수를 추가하기는 쉽다.
- 객체지향과 절차지향, 객체와 자료 구조 모두 어느쪽이 100% 옳은 방향이라기 보다는 적절한 타협이 필요하다.

## 디미터 법칙

- 디미터 법칙이란 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다.
  - 즉, 객체는 조회 함수로 내부 구조를 공개하면 안 된다.
- 클래스 C, 메서드 f는 다음과 같은 객체의 메서드만 호출해야 한다.
  - 클래스 C
  - f가 생성한 객체
  - f 인수로 넘어온 객체
  - C 인스턴스 변수에 저장된 객체
- 프로그래밍을 하면서 자료 구조와 객체를 섞은 잡종 구조가 존재할 수 있는데, 이는 양쪽의 단점만 모아놓은 구조다.

## 자료 전달 객체

- 자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스다.
  - 이러한 자료 구조체는 자료 전달 객체(DTO) 라고 한다.
- DTO는 데이터베이스와 통신하거나 소켓에서 받은 메시지의 구문을 분석할 때 유용하게 사용된다.
- DTO의 일반적인 형태는 빈(bean) 구조다.
  - 빈은 private 변수를 조회/설정 함수로 조작한다.
- DTO의 특수한 형태로 활성 레코드가 있다.
  - 조회/설정 함수 외 save나 find 같은 탐색 함수도 제공한다.
  - 활성 레코드에 비즈니스 규칙 메서드를 추가하기도 하는데, 이는 바람직하지 않다.(잡종 구조가 된다.)
  - 활성 레코드는 자료 구조로 취급해야 한다.